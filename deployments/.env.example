# Spectra-Red Environment Configuration
# Copy this file to .env and customize for your environment

# ============================================================================
# Database Configuration (SurrealDB)
# ============================================================================
SURREALDB_URL=http://surrealdb:8000
SURREALDB_USER=root
SURREALDB_PASS=root
SURREALDB_NS=spectra
SURREALDB_DB=intel

# ============================================================================
# Workflow Engine (Restate)
# ============================================================================
RESTATE_URL=http://restate:8080
RESTATE_ADMIN_URL=http://restate:9070

# ============================================================================
# API Server Configuration
# ============================================================================
PORT=3000
LOG_LEVEL=info
LOG_FORMAT=json

# API Rate Limiting
RATE_LIMIT_INGEST=60      # requests per minute
RATE_LIMIT_QUERY=30       # requests per minute
RATE_LIMIT_AI=10          # requests per minute (Pro tier)

# JWT Configuration
JWT_SECRET=change-me-in-production
JWT_EXPIRY=24h

# ============================================================================
# External Services (Optional - for M6+)
# ============================================================================

# OpenAI (for AI summaries - Pro tier)
# OPENAI_API_KEY=sk-...
# OPENAI_MODEL=gpt-4
# OPENAI_EMBEDDING_MODEL=text-embedding-ada-002

# MaxMind GeoIP (for location enrichment)
# MAXMIND_LICENSE_KEY=...
# MAXMIND_ACCOUNT_ID=...

# NVD API (for vulnerability data)
# NVD_API_KEY=...

# ============================================================================
# Feature Flags
# ============================================================================
ENABLE_AI_FEATURES=false
ENABLE_VULN_CORRELATION=false
ENABLE_METRICS=true
ENABLE_TRACING=false

# ============================================================================
# Performance Tuning
# ============================================================================
MAX_BATCH_SIZE=1000
WORKER_POOL_SIZE=10
DB_CONNECTION_POOL=20
HTTP_TIMEOUT=30s
WORKFLOW_TIMEOUT=300s

# ============================================================================
# Security
# ============================================================================
CORS_ALLOWED_ORIGINS=*
ENABLE_SIGNATURE_VERIFICATION=true
MIN_SIGNATURE_FRESHNESS=5m

# ============================================================================
# Observability
# ============================================================================
# METRICS_PORT=9090
# OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
# OTEL_SERVICE_NAME=spectra-api

# ============================================================================
# Development/Testing
# ============================================================================
# DEV_MODE=true
# SKIP_AUTH=false
# MOCK_EXTERNAL_SERVICES=false
